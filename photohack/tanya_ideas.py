'''
для каждой фразы в соответствие поставить идиому (слово нашли - соспоставили, не нашли - рандомно)
- Токенизировали
- Убрали артикли, знаки препинания
- Привели в нормальную форму
-? пока не делали по роли в предложении - позже
'''

import nltk
from nltk.tokenize import sent_tokenize, word_tokenize
from nltk.corpus import stopwords
import random

from nltk.stem import PorterStemmer
from nltk.tokenize import sent_tokenize, word_tokenize

def get_idiom(arr_sheer, idio, meani):
    cost_max=0
    our_idiom=''

    for item in arr_sheer:
        cost_result = 0
        for keys,values in idio.items():
            for item2 in values:
                if item==item2:
                    cost_result+=1
            if cost_result > cost_max:
                our_idiom =keys
                cost_max=cost_result


    # return list(idio.keys())[0]

    if our_idiom=='':
        for item in arr_sheer:
            cost_result = 0
            for keys, values in meani.items():
                for item2 in values:
                    if item == item2:
                        cost_result += 1
                if cost_result > cost_max:
                    our_idiom = keys
                    cost_max = cost_result
        if our_idiom=='':
            print('IT IS RANDOM')
            return list(idio.keys())[random.randint(0,len(list(idio.keys()))-1)]
        else:
            print('IT IS MEANING')
            return our_idiom
    else:
        return our_idiom










phrases=['Thanks so much.', 'I really appreciate', 'Excuse me.', "I'm sorry.", 'What do you think?', 'How does that sound?', 'That sounds great.', '(Oh) never mind.', "I don't understand.", 'What does it mean?', 'What do you do?', 'How are you doing?', "How's it going?", 'How are things?', "What's up?", "I'm well.", "It's going well, thank you.", 'Fine, thanks. And yourself?', 'How is your day going?', 'Have a good day!', 'Enjoy your day!', 'Good luck!', 'Talk to you soon!', 'Great talking to you!', 'How can I help you?', "I'll be with you in a moment.", 'Please call me', '(Oh really?) Actually, I thought', 'Hello!', 'Hi!', 'Hey!', 'Good morning!', 'Good afternoon!', 'Good evening!', 'Bye! Have a good day!']

#new dictionary - это идиома - значение
new_dict={"Don't put all your eggs in one basket": "What you're doing is too risky", 'Through thick and thin': 'In good times and in bad times', 'Have your head in the clouds': 'Not be concentrating', 'Weather the storm': 'Go through something difficult', 'No pain, no gain': 'You have to work for what you want', 'The devil is in the details': 'It looks good from a distance, but when you look closer, there are problems', 'Hit the sack': 'Go to sleep', 'The ball is in your court': "It's your decision", 'An apple a day keeps the doctor away': 'Apples are good for you', 'Your guess is as good as mine': 'I have no idea', 'By the skin of your teeth': 'Just barely', 'Comparing apples to oranges': 'Comparing two things that cannot be compared', "It's not rocket science": "It's not complicated", 'Get your act together': 'Work better or leave', 'Like riding a bicycle': 'Something you never forget how to do', 'Barking up the wrong tree': 'To be mistaken, to be looking for solutions in the wrong place', 'He who laughs last laughs loudest': "I'll get you back for what you did", "Pull someone's leg": 'To joke with someone', 'Call it a day': 'Stop working on something', "He's sitting on the fence": "He can't make up his mind", 'Curiosity killed the cat': 'Stop asking questions', 'Let sleeping dogs lie': 'Stop discussing an issue', 'The pot calling the kettle black': 'Someone criticizing someone else he is just as bad', 'Easy does it': 'Slow down', 'Go back to the drawing board': 'Start over', 'Leave no stone unturned': 'Look everywhere', 'A penny saved is a penny earned': 'Money you save today you can spend later', 'Like two peas in a pod': "They're always together", 'To get bent out of shape': 'To get upset', "Don't cry over spilt milk": "There's no reason to complain about something that can't be fixed", 'A storm in a teacup': 'A big fuss about a small problem', 'Hang in there': "Don't give up", 'The best of both worlds': 'An ideal situation', "It's a piece of cake": "It's easy", 'A picture is worth 1000 words': 'Better to show than tell', 'Do unto others as you would have them do unto you': 'Treat people fairly. Also known as "The Golden Rule"', 'Get a second wind': 'Have more energy after having been tired', "You can't make an omelet without breaking some eggs": "There's always a cost to doing something", 'He has bigger fish to fry': 'He has bigger things to take care of than what we are talking about now', 'Take it with a grain of salt': 'Donï¿½t take it too seriously', 'Snowed under': 'Busy', "That's the last straw": 'My patience has run out', 'Beat around the bush': 'Avoid saying what you mean, usually because it is uncomfortable', "There's no such thing as a free lunch": 'Nothing is entirely free', 'Burn bridges': 'Destroy relationships', 'There are clouds on the horizon': 'Trouble is coming', 'An ounce of prevention is worth a pound of cure': 'You can prevent a problem with little effort. Fixing it later is harder.', 'You can say that again': "That's true, I agree", 'Live and learn': 'I made a mistake', 'The elephant in the room': 'The big issue, the problem people are avoiding', "Don't beat a dead horse": 'Move on, this subject is over', "There's a method to his madness": "He seems crazy but actually he's clever", 'Once in a blue moon': 'Rarely', "He's a chip off the old block": 'The son is like the father', "Play devil's advocate": 'To argue the opposite, just for the sake of argument', "Hear something straight from the horse's mouth": 'Hear something from the person involved', 'Out of the frying pan and into the fire': 'Things are going from bad to worse', 'On the ball': 'Doing a good job', 'Cut somebody some slack': "Don't be so critical", 'Come rain or shine': 'No matter what', 'To make matters worse': 'Make a problem worse', 'A little learning is a dangerous thing': "People who don't understand something fully are dangerous", 'Know which way the wind is blowing': 'Understand the situation (usually negative)', 'So far so good': 'Things are going well so far', 'The whole nine yards': 'Everything, all the way.', 'On thin ice': 'On probation. If you make another mistake, there will be trouble.', 'Get something out of your system': "Do the thing you've been wanting to do so you can move on", 'Add insult to injury': 'To make a bad situation worse', 'A snowball effect': 'Events have momentum and build upon each other', "We'll cross that bridge when we come to it": "Let's not talk about that problem right now", 'Take a rain check': 'Postpone a plan', 'Let someone off the hook': 'To not hold someone responsible for something', 'We see eye to eye': 'We agree', 'Time is money': 'Work quickly', 'A bird in the hand is worth two in the bush': 'What you have is worth more than what you might have later', 'The early bird gets the worm': 'The first people who arrive will get the best stuff', 'You can catch more flies with honey than you can with vinegar': "You'll get what you want by being nice", 'Calm before the storm': "Something bad is coming, but right now it's calm", 'Put something on ice': 'Put a projet on hold', "Those who live in glass houses shouldn't throw stones": "People who are morally questionable shouldn't criticize others", 'As right as rain': 'Perfect', 'Make hay while the sun shines': 'Take advantage of a good situation', 'Go down in flames': 'Fail spectacularly', 'Throw caution to the wind': 'Take a risk', 'A penny for your thoughts': "Tell me what you're thinking", 'Break the ice': 'Make people feel more comfortable', 'Bite the bullet': 'To get something over with because it is inevitable', "A snowball's chance in hell": 'No chance at all', 'Shape up or ship out': 'Work better or leave', "Time flies when you're having fun": "You don't notice how long something lasts when it's fun", 'Cut the mustard': 'Do a good job', 'A stitch in time saves nine': 'Fix the problem now because it will get worse later', 'Under the weather': 'Sick', "Don't count your chickens before they hatch": "Don't count on something good happening until it's happened.", "He's off his rocker": "He's crazy", 'Hit the nail on the head': 'Get something exactly right', 'Every dog has his day': 'Everyone gets a chance at least once', 'It takes two to tango': "One person alone isn't responsible. Both people are involved.", 'It is a poor workman who blames his tools': "If you can't do the job, don't blame it on others", 'Ignorance is bliss': "You're better off not knowing", 'Wrap your head around something': 'Understand something complicated', 'Every cloud has a silver lining': 'Good things come after bad things', 'Give someone the cold shoulder': 'Ignore someone', 'Kill two birds with one stone': 'Get two things done with a single action', 'It takes one to know one': "You're just as bad as I am", 'Once bitten, twice shy': "You're more cautious when you've been hurt before", 'Speak of the devil': 'The person we were just talking about showed up!', 'Saving for a rainy day': 'Saving money for later', 'Go on a wild goose chase': 'To do something pointless', 'A perfect storm': 'the worst possible situation', 'Break a leg': 'Good luck', 'When it rains it pours': 'Everything is going wrong at once', 'Run like the wind': 'Run fast', 'A blessing in disguise': 'a good thing that seemed bad at first', 'It is always darkest before the dawn': 'Things are going to get better', 'A dime a dozen': 'Something common', 'Fit as a fiddle': 'In good health', 'Bolt from the blue': 'Something that happened without warning', 'Make a long story short': 'Tell something briefly', 'Slow and steady wins the race': 'Reliability is more important than speed', 'That ship has sailed': "It's too late", 'Bite off more than you can chew': 'Take on a project that you cannot finish', 'Get wind of something': 'Hear news of something secret', 'Pull yourself together': 'Calm down', 'Miss the boat': "It's too late", 'Cutting corners': 'Doing something poorly in order to save time or money', "It's raining cats and dogs": "It's raining hard", 'Waste not, want not': "Don't waste things and you'll always have enough", 'Good things come to those who wait': 'Be patient', 'Let the cat out of the bag': 'Give away a secret', 'Haste makes waste': "You'll make mistakes if you rush through something", 'Familiarity breeds contempt': 'The better you know someone the less you like him', "You can't have your cake and eat it too": "You can't have everything", "It ain't over till the fat lady sings": "This isn't over yet", 'Give someone the benefit of the doubt': 'Trust what someone says', 'Look before you leap': 'Take only calculated risks', 'There are other fish in the sea': "It's ok to miss this opportunity. Others will arise.", 'On cloud nine': 'Very happy', 'Fortune favours the bold': 'Take risks', "He's not playing with a full deck": "He's dumb", 'Get out of hand': 'Get out of control', "Don't give up your day job": "You're not very good at this", 'Well begun is half done': 'Getting a good start is important', 'Birds of a feather flock together': 'People who are alike are often friends (usually used negatively)', 'Do something at the drop of a hat': 'Do something without having planned beforehand', "You can lead a horse to water, but you can't make him drink": "You can't force someone to make the right decision", 'The best thing since sliced bread': 'A really good invention', 'Better late than never': 'Better to arrive late than not to come at all', 'Get a taste of your own medicine': "Get treated the way you've been treating others (negative)", "Rain on someone's parade": 'To spoil something', 'Costs an arm and a leg': 'Very expensive', 'Actions speak louder than words': 'Believe what people do and not what they say', 'Jump on the bandwagon': 'Follow a trend, do what everyone else is doing', "You can't judge a book by its cover": "This person or thing may look bad, but it's good inside", 'Spill the beans': 'Give away a secret'}

the_idioms={'Like two peas in a pod': ['like', 'two', 'pea', 'in', 'pod'], 'Birds of a feather flock together': ['bird', 'of', 'feather', 'flock', 'togeth'], 'Do something at the drop of a hat': ['Do', 'someth', 'at', 'drop', 'of', 'hat'], 'The ball is in your court': ['ball', 'is', 'in', 'your', 'court'], "You can't make an omelet without breaking some eggs": ['you', "n't", 'make', 'omelet', 'without', 'break', 'some', 'egg'], 'A picture is worth 1000 words': ['pictur', 'is', 'worth', '1000', 'word'], 'Waste not, want not': ['wast', 'not', 'want', 'not'], 'Come rain or shine': ['come', 'rain', 'or', 'shine'], 'Get your act together': ['get', 'your', 'act', 'togeth'], "He's sitting on the fence": ['He', 'sit', 'on', 'fenc'], 'A blessing in disguise': ['bless', 'in', 'disguis'], 'Ignorance is bliss': ['ignor', 'is', 'bliss'], 'Like riding a bicycle': ['like', 'ride', 'bicycl'], 'Actions speak louder than words': ['action', 'speak', 'louder', 'than', 'word'], 'It takes two to tango': ['It', 'take', 'two', 'tango'], 'It is a poor workman who blames his tools': ['It', 'is', 'poor', 'workman', 'who', 'blame', 'hi', 'tool'], "We'll cross that bridge when we come to it": ['We', "'ll", 'cross', 'that', 'bridg', 'when', 'we', 'come', 'it'], 'As right as rain': ['As', 'right', 'as', 'rain'], 'We see eye to eye': ['We', 'see', 'eye', 'eye'], 'Let the cat out of the bag': ['let', 'cat', 'out', 'of', 'bag'], 'A stitch in time saves nine': ['stitch', 'in', 'time', 'save', 'nine'], 'Bite off more than you can chew': ['bite', 'off', 'more', 'than', 'you', 'can', 'chew'], 'Take it with a grain of salt': ['take', 'it', 'with', 'grain', 'of', 'salt'], 'Your guess is as good as mine': ['your', 'guess', 'is', 'as', 'good', 'as', 'mine'], 'Out of the frying pan and into the fire': ['out', 'of', 'fri', 'pan', 'and', 'into', 'fire'], 'Every cloud has a silver lining': ['everi', 'cloud', 'ha', 'silver', 'line'], 'Call it a day': ['call', 'it', 'day'], "A snowball's chance in hell": ['snowbal', 'chanc', 'in', 'hell'], 'Wrap your head around something': ['wrap', 'your', 'head', 'around', 'someth'], 'Make hay while the sun shines': ['make', 'hay', 'while', 'sun', 'shine'], 'The best thing since sliced bread': ['best', 'thing', 'sinc', 'slice', 'bread'], 'A penny for your thoughts': ['penni', 'for', 'your', 'thought'], "Hear something straight from the horse's mouth": ['hear', 'someth', 'straight', 'from', 'hors', 'mouth'], 'Have your head in the clouds': ['have', 'your', 'head', 'in', 'cloud'], 'Put something on ice': ['put', 'someth', 'on', 'ice'], 'Kill two birds with one stone': ['kill', 'two', 'bird', 'with', 'one', 'stone'], 'It is always darkest before the dawn': ['It', 'is', 'alway', 'darkest', 'befor', 'dawn'], "Those who live in glass houses shouldn't throw stones": ['those', 'who', 'live', 'in', 'glass', 'hous', 'should', "n't", 'throw', 'stone'], 'A little learning is a dangerous thing': ['littl', 'learn', 'is', 'danger', 'thing'], 'On the ball': ['On', 'ball'], 'A dime a dozen': ['dime', 'dozen'], 'He has bigger fish to fry': ['He', 'ha', 'bigger', 'fish', 'fri'], 'The early bird gets the worm': ['earli', 'bird', 'get', 'worm'], 'A perfect storm': ['perfect', 'storm'], 'Comparing apples to oranges': ['compar', 'appl', 'orang'], 'Once in a blue moon': ['onc', 'in', 'blue', 'moon'], 'The elephant in the room': ['eleph', 'in', 'room'], 'The whole nine yards': ['whole', 'nine', 'yard'], 'Spill the beans': ['spill', 'bean'], 'An ounce of prevention is worth a pound of cure': ['ounc', 'of', 'prevent', 'is', 'worth', 'pound', 'of', 'cure'], 'Break a leg': ['break', 'leg'], 'You can say that again': ['you', 'can', 'say', 'that', 'again'], 'The devil is in the details': ['devil', 'is', 'in', 'detail'], "You can lead a horse to water, but you can't make him drink": ['you', 'can', 'lead', 'hors', 'water', 'but', 'you', "n't", 'make', 'him', 'drink'], 'Cut the mustard': ['cut', 'mustard'], 'When it rains it pours': ['when', 'it', 'rain', 'it', 'pour'], 'Know which way the wind is blowing': ['know', 'which', 'way', 'wind', 'is', 'blow'], 'That ship has sailed': ['that', 'ship', 'ha', 'sail'], 'On cloud nine': ['On', 'cloud', 'nine'], 'Get a second wind': ['get', 'second', 'wind'], "It ain't over till the fat lady sings": ['It', 'ai', "n't", 'over', 'till', 'fat', 'ladi', 'sing'], "Don't cry over spilt milk": ['Do', "n't", 'cri', 'over', 'spilt', 'milk'], "Don't give up your day job": ['Do', "n't", 'give', 'up', 'your', 'day', 'job'], "Pull someone's leg": ['pull', 'someon', 'leg'], 'Live and learn': ['live', 'and', 'learn'], 'On thin ice': ['On', 'thin', 'ice'], 'Well begun is half done': ['well', 'begun', 'is', 'half', 'done'], 'There are other fish in the sea': ['there', 'are', 'other', 'fish', 'in', 'sea'], 'Saving for a rainy day': ['save', 'for', 'raini', 'day'], 'A storm in a teacup': ['storm', 'in', 'teacup'], 'The best of both worlds': ['best', 'of', 'both', 'world'], "He's not playing with a full deck": ['He', 'not', 'play', 'with', 'full', 'deck'], 'Get wind of something': ['get', 'wind', 'of', 'someth'], 'Easy does it': ['easi', 'doe', 'it'], 'Bolt from the blue': ['bolt', 'from', 'blue'], 'It takes one to know one': ['It', 'take', 'one', 'know', 'one'], 'Take a rain check': ['take', 'rain', 'check'], 'The pot calling the kettle black': ['pot', 'call', 'kettl', 'black'], 'Hit the nail on the head': ['hit', 'nail', 'on', 'head'], 'Hit the sack': ['hit', 'sack'], 'Familiarity breeds contempt': ['familiar', 'breed', 'contempt'], "Play devil's advocate": ['play', 'devil', 'advoc'], 'Cutting corners': ['cut', 'corner'], 'Once bitten, twice shy': ['onc', 'bitten', 'twice', 'shi'], "You can't have your cake and eat it too": ['you', "n't", 'have', 'your', 'cake', 'and', 'eat', 'it', 'too'], 'Slow and steady wins the race': ['slow', 'and', 'steadi', 'win', 'race'], 'By the skin of your teeth': ['By', 'skin', 'of', 'your', 'teeth'], "Don't beat a dead horse": ['Do', "n't", 'beat', 'dead', 'hors'], 'Barking up the wrong tree': ['bark', 'up', 'wrong', 'tree'], 'Go back to the drawing board': ['Go', 'back', 'draw', 'board'], "Don't count your chickens before they hatch": ['Do', "n't", 'count', 'your', 'chicken', 'befor', 'they', 'hatch'], 'Calm before the storm': ['calm', 'befor', 'storm'], "He's off his rocker": ['He', 'off', 'hi', 'rocker'], 'To get bent out of shape': ['To', 'get', 'bent', 'out', 'of', 'shape'], 'Add insult to injury': ['add', 'insult', 'injuri'], 'Leave no stone unturned': ['leav', 'no', 'stone', 'unturn'], 'Cut somebody some slack': ['cut', 'somebodi', 'some', 'slack'], "Time flies when you're having fun": ['time', 'fli', 'when', 'you', 'have', 'fun'], 'Fortune favours the bold': ['fortun', 'favour', 'bold'], 'A bird in the hand is worth two in the bush': ['bird', 'in', 'hand', 'is', 'worth', 'two', 'in', 'bush'], 'Look before you leap': ['look', 'befor', 'you', 'leap'], 'Go down in flames': ['Go', 'down', 'in', 'flame'], 'Shape up or ship out': ['shape', 'up', 'or', 'ship', 'out'], 'Pull yourself together': ['pull', 'yourself', 'togeth'], 'Get out of hand': ['get', 'out', 'of', 'hand'], "It's raining cats and dogs": ['It', 'rain', 'cat', 'and', 'dog'], 'Costs an arm and a leg': ['cost', 'arm', 'and', 'leg'], 'You can catch more flies with honey than you can with vinegar': ['you', 'can', 'catch', 'more', 'fli', 'with', 'honey', 'than', 'you', 'can', 'with', 'vinegar'], 'Give someone the cold shoulder': ['give', 'someon', 'cold', 'shoulder'], 'Beat around the bush': ['beat', 'around', 'bush'], "You can't judge a book by its cover": ['you', "n't", 'judg', 'book', 'by', 'it', 'cover'], 'Curiosity killed the cat': ['curios', 'kill', 'cat'], 'To make matters worse': ['To', 'make', 'matter', 'wors'], 'An apple a day keeps the doctor away': ['appl', 'day', 'keep', 'doctor', 'away'], 'Let sleeping dogs lie': ['let', 'sleep', 'dog', 'lie'], 'Go on a wild goose chase': ['Go', 'on', 'wild', 'goos', 'chase'], "He's a chip off the old block": ['He', 'chip', 'off', 'old', 'block'], 'Under the weather': ['under', 'weather'], "It's not rocket science": ['It', 'not', 'rocket', 'scienc'], 'Burn bridges': ['burn', 'bridg'], "There's no such thing as a free lunch": ['there', 'no', 'such', 'thing', 'as', 'free', 'lunch'], 'A snowball effect': ['snowbal', 'effect'], 'Fit as a fiddle': ['fit', 'as', 'fiddl'], 'Throw caution to the wind': ['throw', 'caution', 'wind'], "Rain on someone's parade": ['rain', 'on', 'someon', 'parad'], 'Run like the wind': ['run', 'like', 'wind'], 'No pain, no gain': ['No', 'pain', 'no', 'gain'], "That's the last straw": ['that', 'last', 'straw'], "Don't put all your eggs in one basket": ['Do', "n't", 'put', 'all', 'your', 'egg', 'in', 'one', 'basket'], 'Through thick and thin': ['through', 'thick', 'and', 'thin'], "It's a piece of cake": ['It', 'piec', 'of', 'cake'], 'Get something out of your system': ['get', 'someth', 'out', 'of', 'your', 'system'], 'Do unto others as you would have them do unto you': ['Do', 'unto', 'other', 'as', 'you', 'would', 'have', 'them', 'do', 'unto', 'you'], 'Better late than never': ['better', 'late', 'than', 'never'], 'Break the ice': ['break', 'ice'], 'Let someone off the hook': ['let', 'someon', 'off', 'hook'], 'Speak of the devil': ['speak', 'of', 'devil'], "There's a method to his madness": ['there', 'method', 'hi', 'mad'], 'Give someone the benefit of the doubt': ['give', 'someon', 'benefit', 'of', 'doubt'], 'A penny saved is a penny earned': ['penni', 'save', 'is', 'penni', 'earn'], 'Miss the boat': ['miss', 'boat'], 'Get a taste of your own medicine': ['get', 'tast', 'of', 'your', 'own', 'medicin'], 'There are clouds on the horizon': ['there', 'are', 'cloud', 'on', 'horizon'], 'Good things come to those who wait': ['good', 'thing', 'come', 'those', 'who', 'wait'], 'Weather the storm': ['weather', 'storm'], 'Hang in there': ['hang', 'in', 'there'], 'Snowed under': ['snow', 'under'], 'Time is money': ['time', 'is', 'money'], 'Make a long story short': ['make', 'long', 'stori', 'short'], 'Bite the bullet': ['bite', 'bullet'], 'Jump on the bandwagon': ['jump', 'on', 'bandwagon'], 'Every dog has his day': ['everi', 'dog', 'ha', 'hi', 'day'], 'He who laughs last laughs loudest': ['He', 'who', 'laugh', 'last', 'laugh', 'loudest'], 'So far so good': ['So', 'far', 'so', 'good'], 'Haste makes waste': ['hast', 'make', 'wast']}
the_meaning={"There's always a cost to doing something": ['there', 'alway', 'cost', 'do', 'someth'], "Let's not talk about that problem right now": ['let', 'not', 'talk', 'about', 'that', 'problem', 'right', 'now'], 'Good luck': ['good', 'luck'], 'Stop discussing an issue': ['stop', 'discuss', 'issu'], 'Money you save today you can spend later': ['money', 'you', 'save', 'today', 'you', 'can', 'spend', 'later'], 'Hear news of something secret': ['hear', 'news', 'of', 'someth', 'secret'], 'Donï¿½t take it too seriously': ['donï¿½t', 'take', 'it', 'too', 'serious'], 'Doing something poorly in order to save time or money': ['do', 'someth', 'poorli', 'in', 'order', 'save', 'time', 'or', 'money'], 'Destroy relationships': ['destroy', 'relationship'], "He's crazy": ['He', 'crazi'], 'Things are going to get better': ['thing', 'are', 'go', 'get', 'better'], 'Understand something complicated': ['understand', 'someth', 'complic'], "He seems crazy but actually he's clever": ['He', 'seem', 'crazi', 'but', 'actual', 'he', 'clever'], 'To be mistaken, to be looking for solutions in the wrong place': ['To', 'be', 'mistaken', 'be', 'look', 'for', 'solut', 'in', 'wrong', 'place'], 'Something you never forget how to do': ['someth', 'you', 'never', 'forget', 'how', 'do'], "It's ok to miss this opportunity. Others will arise.": ['It', 'ok', 'miss', 'thi', 'opportun', 'other', 'will', 'aris'], 'Treat people fairly. Also known as "The Golden Rule"': ['treat', 'peopl', 'fairli', 'also', 'known', 'as', '``', 'golden', 'rule', "''"], 'You can prevent a problem with little effort. Fixing it later is harder.': ['you', 'can', 'prevent', 'problem', 'with', 'littl', 'effort', 'fix', 'it', 'later', 'is', 'harder'], "Don't be so critical": ['Do', "n't", 'be', 'so', 'critic'], 'Slow down': ['slow', 'down'], 'Everything is going wrong at once': ['everyth', 'is', 'go', 'wrong', 'at', 'onc'], 'To get something over with because it is inevitable': ['To', 'get', 'someth', 'over', 'with', 'becaus', 'it', 'is', 'inevit'], 'Tell something briefly': ['tell', 'someth', 'briefli'], "Don't waste things and you'll always have enough": ['Do', "n't", 'wast', 'thing', 'and', 'you', "'ll", 'alway', 'have', 'enough'], 'Everything, all the way.': ['everyth', 'all', 'way'], 'It looks good from a distance, but when you look closer, there are problems': ['It', 'look', 'good', 'from', 'distanc', 'but', 'when', 'you', 'look', 'closer', 'there', 'are', 'problem'], 'No chance at all': ['No', 'chanc', 'at', 'all'], 'Calm down': ['calm', 'down'], "This isn't over yet": ['thi', 'is', "n't", 'over', 'yet'], 'To spoil something': ['To', 'spoil', 'someth'], "People who don't understand something fully are dangerous": ['peopl', 'who', 'do', "n't", 'understand', 'someth', 'fulli', 'are', 'danger'], "It's too late": ['It', 'too', 'late'], "It's easy": ['It', 'easi'], "Tell me what you're thinking": ['tell', 'me', 'what', 'you', 'think'], 'Stop asking questions': ['stop', 'ask', 'question'], 'Sick': ['sick'], 'Take only calculated risks': ['take', 'onli', 'calcul', 'risk'], "One person alone isn't responsible. Both people are involved.": ['one', 'person', 'alon', 'is', "n't", 'respons', 'both', 'peopl', 'are', 'involv'], 'In good times and in bad times': ['In', 'good', 'time', 'and', 'in', 'bad', 'time'], 'Just barely': ['just', 'bare'], "You're more cautious when you've been hurt before": ['you', 'more', 'cautiou', 'when', 'you', "'ve", 'been', 'hurt', 'befor'], 'Go through something difficult': ['Go', 'through', 'someth', 'difficult'], "Something bad is coming, but right now it's calm": ['someth', 'bad', 'is', 'come', 'but', 'right', 'now', 'it', 'calm'], 'To do something pointless': ['To', 'do', 'someth', 'pointless'], 'People who are alike are often friends (usually used negatively)': ['peopl', 'who', 'are', 'alik', 'are', 'often', 'friend', '(', 'usual', 'use', 'neg', ')'], "You're not very good at this": ['you', 'not', 'veri', 'good', 'at', 'thi'], 'Take a risk': ['take', 'risk'], 'Fix the problem now because it will get worse later': ['fix', 'problem', 'now', 'becaus', 'it', 'will', 'get', 'wors', 'later'], 'Trust what someone says': ['trust', 'what', 'someon', 'say'], "It's raining hard": ['It', 'rain', 'hard'], 'Reliability is more important than speed': ['reliabl', 'is', 'more', 'import', 'than', 'speed'], 'Take risks': ['take', 'risk'], 'Apples are good for you': ['appl', 'are', 'good', 'for', 'you'], 'He has bigger things to take care of than what we are talking about now': ['He', 'ha', 'bigger', 'thing', 'take', 'care', 'of', 'than', 'what', 'we', 'are', 'talk', 'about', 'now'], 'Postpone a plan': ['postpon', 'plan'], 'Hear something from the person involved': ['hear', 'someth', 'from', 'person', 'involv'], "This person or thing may look bad, but it's good inside": ['thi', 'person', 'or', 'thing', 'may', 'look', 'bad', 'but', 'it', 'good', 'insid'], "You're just as bad as I am": ['you', 'just', 'as', 'bad', 'as', 'I', 'am'], 'What you have is worth more than what you might have later': ['what', 'you', 'have', 'is', 'worth', 'more', 'than', 'what', 'you', 'might', 'have', 'later'], 'a good thing that seemed bad at first': ['good', 'thing', 'that', 'seem', 'bad', 'at', 'first'], "You can't have everything": ['you', "n't", 'have', 'everyth'], 'Believe what people do and not what they say': ['believ', 'what', 'peopl', 'do', 'and', 'not', 'what', 'they', 'say'], 'Perfect': ['perfect'], 'Someone criticizing someone else he is just as bad': ['someon', 'critic', 'someon', 'els', 'he', 'is', 'just', 'as', 'bad'], 'Fail spectacularly': ['fail', 'spectacularli'], "That's true, I agree": ['that', 'true', 'I', 'agre'], 'Give away a secret': ['give', 'away', 'secret'], "I'll get you back for what you did": ['I', "'ll", 'get', 'you', 'back', 'for', 'what', 'you', 'did'], 'The first people who arrive will get the best stuff': ['first', 'peopl', 'who', 'arriv', 'will', 'get', 'best', 'stuff'], "You'll get what you want by being nice": ['you', "'ll", 'get', 'what', 'you', 'want', 'by', 'be', 'nice'], 'Move on, this subject is over': ['move', 'on', 'thi', 'subject', 'is', 'over'], 'Make people feel more comfortable': ['make', 'peopl', 'feel', 'more', 'comfort'], "Don't give up": ['Do', "n't", 'give', 'up'], 'Work better or leave': ['work', 'better', 'or', 'leav'], "You don't notice how long something lasts when it's fun": ['you', 'do', "n't", 'notic', 'how', 'long', 'someth', 'last', 'when', 'it', 'fun'], 'Get something exactly right': ['get', 'someth', 'exactli', 'right'], "People who are morally questionable shouldn't criticize others": ['peopl', 'who', 'are', 'moral', 'question', 'should', "n't", 'critic', 'other'], "You can't force someone to make the right decision": ['you', "n't", 'forc', 'someon', 'make', 'right', 'decis'], 'Busy': ['busi'], "He can't make up his mind": ['He', "n't", 'make', 'up', 'hi', 'mind'], 'Take on a project that you cannot finish': ['take', 'on', 'project', 'that', 'you', 'can', 'not', 'finish'], 'Get out of control': ['get', 'out', 'of', 'control'], 'Doing a good job': ['do', 'good', 'job'], 'Very happy': ['veri', 'happi'], 'Things are going well so far': ['thing', 'are', 'go', 'well', 'so', 'far'], 'Saving money for later': ['save', 'money', 'for', 'later'], 'Work quickly': ['work', 'quickli'], "Do the thing you've been wanting to do so you can move on": ['Do', 'thing', 'you', "'ve", 'been', 'want', 'do', 'so', 'you', 'can', 'move', 'on'], 'Rarely': ['rare'], "There's no reason to complain about something that can't be fixed": ['there', 'no', 'reason', 'complain', 'about', 'someth', 'that', "n't", 'be', 'fix'], 'Better to arrive late than not to come at all': ['better', 'arriv', 'late', 'than', 'not', 'come', 'at', 'all'], 'Get two things done with a single action': ['get', 'two', 'thing', 'done', 'with', 'singl', 'action'], 'The big issue, the problem people are avoiding': ['big', 'issu', 'problem', 'peopl', 'are', 'avoid'], 'Something that happened without warning': ['someth', 'that', 'happen', 'without', 'warn'], 'Better to show than tell': ['better', 'show', 'than', 'tell'], 'Everyone gets a chance at least once': ['everyon', 'get', 'chanc', 'at', 'least', 'onc'], "He's dumb": ['He', 'dumb'], 'Run fast': ['run', 'fast'], 'To get upset': ['To', 'get', 'upset'], 'the worst possible situation': ['worst', 'possibl', 'situat'], 'Make a problem worse': ['make', 'problem', 'wors'], 'Nothing is entirely free': ['noth', 'is', 'entir', 'free'], "You'll make mistakes if you rush through something": ['you', "'ll", 'make', 'mistak', 'if', 'you', 'rush', 'through', 'someth'], 'To argue the opposite, just for the sake of argument': ['To', 'argu', 'opposit', 'just', 'for', 'sake', 'of', 'argument'], 'Take advantage of a good situation': ['take', 'advantag', 'of', 'good', 'situat'], 'Have more energy after having been tired': ['have', 'more', 'energi', 'after', 'have', 'been', 'tire'], 'Stop working on something': ['stop', 'work', 'on', 'someth'], 'Start over': ['start', 'over'], "Get treated the way you've been treating others (negative)": ['get', 'treat', 'way', 'you', "'ve", 'been', 'treat', 'other', '(', 'neg', ')'], 'You have to work for what you want': ['you', 'have', 'work', 'for', 'what', 'you', 'want'], 'Things are going from bad to worse': ['thing', 'are', 'go', 'from', 'bad', 'wors'], 'A really good invention': ['realli', 'good', 'invent'], "You're better off not knowing": ['you', 'better', 'off', 'not', 'know'], 'Events have momentum and build upon each other': ['event', 'have', 'momentum', 'and', 'build', 'upon', 'each', 'other'], 'To make a bad situation worse': ['To', 'make', 'bad', 'situat', 'wors'], 'The better you know someone the less you like him': ['better', 'you', 'know', 'someon', 'less', 'you', 'like', 'him'], 'On probation. If you make another mistake, there will be trouble.': ['On', 'probat', 'If', 'you', 'make', 'anoth', 'mistak', 'there', 'will', 'be', 'troubl'], "Don't count on something good happening until it's happened.": ['Do', "n't", 'count', 'on', 'someth', 'good', 'happen', 'until', 'it', 'happen'], "They're always together": ['they', 'alway', 'togeth'], 'I made a mistake': ['I', 'made', 'mistak'], "It's your decision": ['It', 'your', 'decis'], 'Put a projet on hold': ['put', 'projet', 'on', 'hold'], 'To not hold someone responsible for something': ['To', 'not', 'hold', 'someon', 'respons', 'for', 'someth'], 'Look everywhere': ['look', 'everywher'], 'To joke with someone': ['To', 'joke', 'with', 'someon'], 'Do something without having planned beforehand': ['Do', 'someth', 'without', 'have', 'plan', 'beforehand'], 'In good health': ['In', 'good', 'health'], 'The son is like the father': ['son', 'is', 'like', 'father'], 'Understand the situation (usually negative)': ['understand', 'situat', '(', 'usual', 'neg', ')'], "If you can't do the job, don't blame it on others": ['If', 'you', "n't", 'do', 'job', 'do', "n't", 'blame', 'it', 'on', 'other'], 'No matter what': ['No', 'matter', 'what'], 'Do a good job': ['Do', 'good', 'job'], "What you're doing is too risky": ['what', 'you', 'do', 'is', 'too', 'riski'], 'Be patient': ['Be', 'patient'], 'A big fuss about a small problem': ['big', 'fuss', 'about', 'small', 'problem'], 'Trouble is coming': ['troubl', 'is', 'come'], 'Go to sleep': ['Go', 'sleep'], 'Getting a good start is important': ['get', 'good', 'start', 'is', 'import'], 'I have no idea': ['I', 'have', 'no', 'idea'], 'My patience has run out': ['My', 'patienc', 'ha', 'run', 'out'], 'Very expensive': ['veri', 'expens'], 'Ignore someone': ['ignor', 'someon'], 'Follow a trend, do what everyone else is doing': ['follow', 'trend', 'do', 'what', 'everyon', 'els', 'is', 'do'], 'The person we were just talking about showed up!': ['person', 'we', 'were', 'just', 'talk', 'about', 'show', 'up', '!'], 'An ideal situation': ['ideal', 'situat'], 'Avoid saying what you mean, usually because it is uncomfortable': ['avoid', 'say', 'what', 'you', 'mean', 'usual', 'becaus', 'it', 'is', 'uncomfort'], 'We agree': ['We', 'agre'], 'Good things come after bad things': ['good', 'thing', 'come', 'after', 'bad', 'thing'], 'Comparing two things that cannot be compared': ['compar', 'two', 'thing', 'that', 'can', 'not', 'be', 'compar'], 'Not be concentrating': ['not', 'be', 'concentr'], "It's not complicated": ['It', 'not', 'complic'], 'Something common': ['someth', 'common']}

def get_idiom_for_phrase(phrase):
    # for item in phrases:

    # random_phrase=phrases[random.randint(0,len(phrases)-1)]

    # data = random_phrase
    data=phrase
    stopWords = ['a', 'the', ',', '.', '?','an','A','The','An',':',';','to',"'s",'ca',"'re","he","she","you","we","He","She","You","We","it", "It", "on", "in", "under", "above", "is", "are"]
    words = word_tokenize(data)
    wordsFiltered = []

    for w in words:
        if w not in stopWords:
            wordsFiltered.append(w)


    ps = PorterStemmer()

    sheer_woords=[]

    for word in wordsFiltered:
        # print(word + ":" + ps.stem(word))
        sheer_woords.append(ps.stem(word))

    # print(sheer_woords, type(sheer_woords))
    print(phrase)
    return get_idiom(sheer_woords,the_idioms,the_meaning)


# for item in phrases:

#     # random_phrase=phrases[random.randint(0,len(phrases)-1)]



#     # data = random_phrase
#     data=item
#     stopWords = ['a', 'the', ',', '.', '?','an','A','The','An',':',';','to',"'s",'ca',"'re"]
#     words = word_tokenize(data)
#     wordsFiltered = []

#     for w in words:
#         if w not in stopWords:
#             wordsFiltered.append(w)

#     # print(wordsFiltered,type(wordsFiltered))


#     ps = PorterStemmer()

#     sheer_woords=[]

#     for word in wordsFiltered:
#         # print(word + ":" + ps.stem(word))
#         sheer_woords.append(ps.stem(word))

#     # print(sheer_woords, type(sheer_woords))
#     print(item)
#     print('Result: '+get_idiom(sheer_woords,the_idioms,the_meaning))
    #функция для того, чтобы выдавать афоризм от sheer_words


    # for keys,values in new_dict.items():
    #     print(keys,values)

print(get_idiom_for_phrase(phrases[0]))